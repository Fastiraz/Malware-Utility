/*
 ===============================================================================
 Name        : lang.c
 Author      : Fastiraz
 Version     : 1.0
 Copyright   : Your copyright notice
 Description : Determines the language of the operating system.
 Compile     : gcc -o lang lang.c
 Usage       : ./lang
 ===============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <string.h>

#ifdef _WIN32
#include <Windows.h>
#endif

void timezone() {
    // Set the program's locale to the user's default locale
    setlocale(LC_ALL, "");

    // Get the current locale
    char* currentLocale = setlocale(LC_ALL, NULL);

    // Check if the locale contains "fr" (indicating French)
    if (strstr(currentLocale, "fr") != NULL) {
        printf("The computer's operating system is set to French.\n");
    } else {
        printf("The computer's operating system is not set to French.\n");
    }
}

void settings() {
#ifdef _WIN32
    LANGID primaryLangId = PRIMARYLANGID(GetSystemDefaultLangID());

    if (primaryLangId == LANG_FRENCH) {
        printf("The computer's operating system is set to French.\n");
    } else {
        printf("The computer's operating system is not set to French.\n");
    }
#else
    char* primaryLang = getenv("LANG");

    if (primaryLang != NULL && strstr(primaryLang, "fr") != NULL) {
        printf("The computer's operating system is set to French.\n");
    } else {
        printf("The computer's operating system is not set to French.\n");
    }
#endif
}

int main() {
    timezone();
    settings();
    return 0;
}
